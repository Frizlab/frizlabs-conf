---
# Provide an extension point for some dot-files
- name: "make ~/{{ item }}"
  file: path="{{ ansible_env.HOME }}/{{ item }}" state=directory mode=0700
  loop:
  - .bash_profile.d
  - .bashrc.d
  - .profile.d
  - .shrc.d

- include_vars: links.yml
- import_tasks: "{{ _lib_folder }}/links.yml"

- name: "create templates"
  template: src="{{ item | regex_replace('^\.', '_.') | regex_replace('/\.', '/_.') }}.jinja"
            dest="{{ ansible_env.HOME }}/{{ item }}"
            mode="{{ '0700' if item.endswith('.sh') else '0600' }}"
  loop: "{{ dotfile_templates }}"

# vim: ts=2 sw=2 et
